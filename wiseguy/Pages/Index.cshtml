@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}

<!DOCTYPE html>
<html lang="en">
<head>   
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login Page</title>
    <link rel="stylesheet" type="text/css" href="~/css/login_register.css">
    <script src="https://apis.google.com/js/platform.js" async defer></script> <!-- Include Google Sign-In script -->
    <script src="~/js/app.js"></script>

</head>
<body>
    <!-- BACKGROUND-WRAPPER -->
    <main class="background_wrapper">
        <div class="login_form_wrapper">
            <form method="post">
                <h1 class="title">Login</h1>

         
            <!-- FORM -->
               
                <div class="login_form_content">
                    <!-- Add Google Sign-In button -->
                    <div class="g-signin2" data-onsuccess="onSignIn"></div>

                    <!-- LOGIN-CONTENT-BOX-1 -->
                    <div class="login_content_box">
                        <ion-icon name="person-outline"></ion-icon>

                        <div class="login_content_box--input">
                            <input type="email"
                                   asp-for="email" placeholder=" "
                                   class="login__input email--input"
                                   required />
                            <label for="email" class="login__label">Email</label>
                        </div>
                    </div>
                    <!-- LOGIN-CONTENT-BOX-2 -->
                    <div class="login_content_box">
                        <ion-icon name="lock-closed-outline"></ion-icon>

                        <div class="login_content_box--input">
                            <input type="password"
                                   asp-for="password" placeholder=" "
                                   class="login__input email--input"
                                   required />
                            <label for="password" class="login__label">Password</label>
                        </div>

                    </div>

                  

                   

                    <!-- LOGIN BUTTON <button onclick="location.href='/AdminMenu';" type="button" class="button__login">Login</button> -->
                    <button   type="submit" class="button__login">Login</button>



                    
                    <!-- REGISTER LOGIN -->
                     
                </div>
            </form>
            @if (TempData["SuccessMessage"] != null)
            {
                @if (Model.Admin)
                {
                    <script>
                        // Redirect after a delay
                        setTimeout(function () {
                        window.location.href = '/AdminMenu';
                        }, 0); // 3000 milliseconds (3 seconds) delay before redirecting
                    </script>
                }
                else
                {
                    <script>
                        // Redirect after a delay
                        setTimeout(function () {
                            window.location.href = '/EmployeeMenu';
                        }, 0); // 3000 milliseconds (3 seconds) delay before redirecting
                    </script>
                }
               
            }


            @if (TempData["ErrorMessage"] != null)
            {
                <div class="alert alert-danger">
                    @TempData["ErrorMessage"]
                </div>
            }
        </div>
    </main>

    <!-- SCRIPT.JS -->
    <script src="~/js/app.js"></script>
</body>
</html>

